<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>虚拟代理实现图片预加载</title>
</head>
<body>
	<script>
		//不用代理模式下的预加载图片
		var myImage = (function(){
			var imgNode = document.createElement('img');
			document.body.appendChild(imgNode);
			var img = new Image;
			img.onload = function(){

					imgNode.src = img.src;
			};
			return {
				setSrc : function(src){
					imgNode.src = './img/a2.gif';
					img.src = src;
				}
			}
		})();

		myImage.setSrc('http://imgcache.qq.com/music/photo/k/000GGDys0yA0Nk.jpg');
		//proxyImage.setSrc('./img/heading.jpg');
	</script>
	
</body>
</html>