<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>迭代器设计模式01--外部迭代器</title>
</head>
<script>
	var Iterator = function(obj){
		var current = 0;
		var next = function(){
			current+=1;
		};
		var isDone = function(){
			return current >= obj.length;
		};
		var getCurrItem = function(){
			return obj[ current ];
		};

		return{
			next: next,
			isDone: isDone,
			getCurrItem:getCurrItem
		}
	};

	/*改写成compare函数*/
	var compare = function(iterator1,iterator2){
		while(!iterator1.isDone() && !iterator2.isDone()){
			if(iterator1.getCurrItem() !== iterator2.getCurrItem()){
				throw new Error('iterator1 和 iterator2不相等');
			}
			iterator1.next();
			iterator2.next();
		}
		alert('iterator1 和 iterator2 相等');
	}

	var iterator1 = Iterator([1,2,3,4]);
	var iterator2 = Iterator([1,2,3,4]);

	compare(iterator1,iterator2);
	



</script>
<body>

</body>
</html>